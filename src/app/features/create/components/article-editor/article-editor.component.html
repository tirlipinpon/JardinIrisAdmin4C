<div class="article-editor">
  <div class="editor-header">
    <h3>ğŸ“ Ã‰diteur d'article avancÃ©</h3>
    <div class="editor-controls">
      <button 
        type="button" 
        class="btn btn-primary" 
        (click)="onSave()"
        [disabled]="!articleContent">
        ğŸ’¾ Sauvegarder
      </button>
      <button 
        type="button" 
        class="btn btn-secondary" 
        (click)="togglePreview()">
        {{ showPreview ? 'ğŸ“ Ã‰diter' : 'ğŸ‘ï¸ AperÃ§u' }}
      </button>
      <button 
        type="button" 
        class="btn btn-info" 
        (click)="toggleRawHtml()">
        {{ showRawHtml ? 'ğŸ¨ Visuel' : 'ğŸ“„ HTML' }}
      </button>
    </div>
  </div>
  
  <div class="editor-content">
    <!-- Ã‰diteur NgxEditor -->
    <div class="ngx-editor-panel" *ngIf="!showPreview && !showRawHtml">
      <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
      <ngx-editor 
        [editor]="editor" 
        [formControl]="articleFormControl"
        placeholder="Votre article apparaÃ®tra ici...">
      </ngx-editor>
    </div>
    
    <!-- Ã‰diteur HTML brut -->
    <div class="raw-html-panel" *ngIf="!showPreview && showRawHtml">
      <textarea
        [(ngModel)]="articleContent"
        class="article-textarea"
        placeholder="Code HTML de l'article..."
        spellcheck="false">
      </textarea>
    </div>
    
    <!-- AperÃ§u -->
    <div class="preview-panel" *ngIf="showPreview">
      <div class="article-preview" [innerHTML]="articleFormControl.value || articleContent"></div>
    </div>
  </div>
  
  <div class="editor-footer">
    <small class="text-muted">
      CaractÃ¨res: {{ (articleFormControl.value || articleContent).length || 0 }} | 
      Mots: {{ getWordCount() }} |
      Mode: {{ showPreview ? 'AperÃ§u' : (showRawHtml ? 'HTML' : 'Visuel') }}
    </small>
  </div>
</div>
